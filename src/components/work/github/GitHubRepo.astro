---
import { Image } from 'astro:assets';
import type { ImageMetadata } from "astro";

export interface Props {
	url: string;
	alt: string;
	image: ImageMetadata;
}

const {url, image, alt} = Astro.props as Props;
---

<div>
	<article class="flex flex-col gap-2 bg-slate-50">
		<header>
			<a href={url} target="_blank" class="hover:no-underline">
				<Image
					src={image}
					alt={alt}
					class="rounded-t-2xl"
					itemprop="image"
					loading="eager"
				/>
				<span class="sr-only">Visit GitHub repository</span>
			</a>
		</header>
		<main class="px-4 prose">
			<slot/>
		</main>
		<footer class="text-right pb-2 px-2">
			<a href={url} target="_blank" class="bg-slate-800 hover:bg-slate-900 rounded-full text-gray-50 py-1 px-3 hover:no-underline text-sm">Get Code</a>
		</footer>
	</article>
</div>

<style>
	@reference "tailwindcss";

	article {
		@apply overflow-clip;
		@apply has-[:focus-visible]:outline has-[:focus-visible]:outline-offset-1;
		@apply rounded-2xl border border-gray-300;
	}
</style>